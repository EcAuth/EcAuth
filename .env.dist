# EcAuth 環境変数テンプレート
#
# 詳細な環境構成と 1Password テンプレートの使用方法は docs/CLAUDE.md を参照してください。
#
# 簡易セットアップ:
#   1Password 使用: op inject -i .env.dev.tpl -o .env
#   完全ローカル:   cp .env.docker .env
#

DB_HOST=db
MIGRATION_DB_HOST=localhost
DB_NAME=EcAuthDb
DB_USER=SA
DB_PASSWORD='<YourStrong@Passw0rd>'
STATE_PASSWORD='<strong_password_string_of_at_least_32_characters>'

MOCK_IDP_DB_NAME=MockIdp

MOCK_IDP_DEFAULT_USER_PASSWORD=password
MOCK_IDP_DEFAULT_CLIENT_ID=mockclientid
MOCK_IDP_DEFAULT_CLIENT_SECRET=mock-client-secret
MOCK_IDP_DEFAULT_CLIENT_NAME=MockClient
MOCK_IDP_DEFAULT_USER_EMAIL=defaultuser@example.com
MOCK_IDP_FEDERATE_CLIENT_ID=federateclientid
MOCK_IDP_FEDERATE_CLIENT_SECRET=federate-client-secret
MOCK_IDP_FEDERATE_CLIENT_NAME=FederateClient
MOCK_IDP_FEDERATE_USER_EMAIL=federate@example.jp

DEFAULT_ORGANIZATION_CODE=example
DEFAULT_ORGANIZATION_NAME=example
DEFAULT_ORGANIZATION_TENANT_NAME=example
DEFAULT_ORGANIZATION_REDIRECT_URI=https://localhost:8081/auth/callback
DEFAULT_CLIENT_ID=client_id
DEFAULT_CLIENT_SECRET=client_secret
DEFAULT_APP_NAME=app_name

GOOGLE_OAUTH2_APP_NAME=google-oauth2
GOOGLE_OAUTH2_CLIENT_ID=<Google OAuth2 client_id>
GOOGLE_OAUTH2_CLIENT_SECRET=<Google OAuth2 client_secret>
GOOGLE_OAUTH2_DISCOVERY_URL=https://accounts.google.com/.well-known/openid-configuration

AMAZON_OAUTH2_APP_NAME=amazon-oauth2
AMAZON_OAUTH2_CLIENT_ID=<Amazon OAuth2 client_id>
AMAZON_OAUTH2_CLIENT_SECRET=<Amazon OAuth2 client_secret>
AMAZON_OAUTH2_AUTHORIZATION_ENDPOINT=https://www.amazon.com/ap/oa
AMAZON_OAUTH2_TOKEN_ENDPOINT=https://api.amazon.co.jp/auth/o2/token
AMAZON_OAUTH2_USERINFO_ENDPOINT=https://api.amazon.com/user/profile

# MockIdP URL（外部環境）
# ローカル開発: https://localhost:9091（docker compose使用時）
# Azure環境: 環境変数で設定（リポジトリにはコミットしない）
MOCK_IDP_BASE_URL=https://localhost:9091

FEDERATE_OAUTH2_APP_NAME=federate-oauth2
FEDERATE_OAUTH2_CLIENT_ID=${MOCK_IDP_FEDERATE_CLIENT_ID}
FEDERATE_OAUTH2_CLIENT_SECRET=${MOCK_IDP_FEDERATE_CLIENT_SECRET}
FEDERATE_OAUTH2_AUTHORIZATION_ENDPOINT=${MOCK_IDP_BASE_URL}/authorization
FEDERATE_OAUTH2_TOKEN_ENDPOINT=${MOCK_IDP_BASE_URL}/token
FEDERATE_OAUTH2_USERINFO_ENDPOINT=${MOCK_IDP_BASE_URL}/userinfo

# Staging環境用設定
STAGING_ORGANIZATION_CODE=staging
STAGING_ORGANIZATION_NAME=staging
STAGING_ORGANIZATION_TENANT_NAME=staging
STAGING_CLIENT_ID=<staging_client_id>
STAGING_CLIENT_SECRET=<staging_client_secret>
STAGING_APP_NAME=EC-CUBE4 Staging
STAGING_REDIRECT_URI=https://localhost:4430/callback

# Staging環境用 MockIdP設定
STAGING_MOCK_IDP_APP_NAME=staging-mock-idp
STAGING_MOCK_IDP_CLIENT_ID=<staging_mock_idp_client_id>
STAGING_MOCK_IDP_CLIENT_SECRET=<staging_mock_idp_client_secret>
STAGING_MOCK_IDP_AUTHORIZATION_ENDPOINT=${MOCK_IDP_BASE_URL}/authorization?org=staging
STAGING_MOCK_IDP_TOKEN_ENDPOINT=${MOCK_IDP_BASE_URL}/token
STAGING_MOCK_IDP_USERINFO_ENDPOINT=${MOCK_IDP_BASE_URL}/userinfo

# B2B Passkey Test Data (Development)
DEV_B2B_USER_SUBJECT=3f7c0ab4-b004-4102-b6ed-a730369dd237
DEV_B2B_USER_EXTERNAL_ID=test-admin
DEV_B2B_REDIRECT_URI=https://localhost:8081/admin/ecauth/callback
DEV_B2B_ALLOWED_RP_IDS=localhost
